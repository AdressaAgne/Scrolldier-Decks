$(function(){function a(a){console.log("changing preview to "+a),$("#previewImage").attr("src","http://a.scrollsguide.com/image/screen?name="+a+"&size=large")}function t(a,t,n,c,o){return'<div class="col-2 col-phone-6 col-tab-3 hand scrolls" data-name="'+c+'" data-id="'+a+'" data-count="'+o+'" data-faction="'+n+'" data-image="'+t+'">\n				<div class="col-12 scroll scroll-stack-'+o+'" style="background-image: url(/img/scrolls/'+t+'.png)">\n					<i class="icon-'+n+'"></i>\n				</div>\n				<div class="col-12 scroll-content">\n					<span id="count">'+o+'x</span> <span id="name">'+c+"</span>\n				</div>\n			</div>"}function n(a,t,n,c,o){return'<div class="col-12 scroll scroll-stack-'+o+'" style="background-image: url(/img/scrolls/'+t+'.png)">\n					<i class="icon-'+n+'"></i>\n				</div>\n				<div class="col-12 scroll-content">\n					<span id="count">'+o+'x</span> <span id="name">'+c+"</span>\n				</div>"}function c(a,c,o,l){if($("#deck-scrolls [data-id="+a+"]").length){var s=$("#deck-scrolls").find("[data-id="+a+"]"),i=$(s).attr("data-count"),d=parseInt(i)+1;3!=i?(console.log("Adding 1 scroll to "+l+"("+d+")"),$(s).html(n(a,c,o,l,d)),$(s).attr("data-count",d)):console.log("Already got 3 scrolls of "+l)}else $("#deck-scrolls").append(t(a,c,o,l,1))}function o(a){var t=$("#deck-scrolls").find("[data-id="+a+"]"),c=$(t).attr("data-count"),o=$(t).find("#name").text(),l=$(t).attr("data-faction"),s=$(t).attr("data-image"),i=parseInt(c)-1;1!=c?(console.log("Adding 1 scroll to "+o+"("+i+")"),$(t).html(n(a,s,l,o,i)),$(t).attr("data-count",i)):$(t).remove()}var l=[];$("[id=addScrollScroll]").click(function(){var a=$(this).attr("data-id"),t=$(this).attr("data-image"),n=$(this).attr("data-faction"),o=$(this).attr("data-name");c(parseInt(a),parseInt(t),n,o)}),$("#deck-scrolls").on("click","div[data-id]",function(){console.log("Removing Scroll"),o($(this).attr("data-id"))}),$(".scroll-front").hover(function(){a($(this).attr("data-name"))})});